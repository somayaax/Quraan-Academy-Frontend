"use strict";(self.webpackChunkQuraan_Academy=self.webpackChunkQuraan_Academy||[]).push([[503],{3503:(ye,w,c)=>{c.r(w),c.d(w,{TeacherModule:()=>Oe});var l=c(6895),a=c(4006),u=c(1635),e=c(4650),C=c(529),y=c(2843),g=c(262),b=c(623),Z=c(4377);let m=(()=>{class n{constructor(t,o){this.http=t,this.auth=o,this.domain=b.Z,this.buttonClicked=new e.vpe,this.sessionDetailsChange=new e.vpe,this.commentAdded=new e.vpe}handleError(t){return(0,y._)(()=>t)}getSessions(t){let o=`${this.domain}/session/teacher`;return t&&t.month&&(o+=`?month=${t.month}`),t&&t.year&&(o+=`&year=${t.year}`),this.http.get(o).pipe((0,g.K)(this.handleError))}updateTeacherProfile(t){const{_id:o,createdAt:i,updatedAt:r,__v:h,...Pe}=t;return this.http.patch(`${this.domain}/teacher/updateprofile`,Pe)}getTeacherProfile(){return this.http.get(`${this.domain}/teacher/profile`).pipe((0,g.K)(this.handleError))}getTeacherCourses(t){let o=`${this.domain}/course/?page=${t.page}`;return t.teacher=this.auth.getDecodedToken().id,o+=`&teacher=${t.teacher}`,t&&t.level&&(o+=`&level=${t.level}`),this.http.get(o).pipe((0,g.K)(this.handleError))}getCourseDetails(t){return this.http.get(`${this.domain}/teacher/course/${t}`).pipe((0,g.K)(this.handleError))}getSessionDetails(t){return this.http.get(`${this.domain}/teacher/session/${t}`).pipe((0,g.K)(this.handleError))}createMeeting(t){return this.http.get(`${this.domain}/session/create-meeting/${t}`).pipe((0,g.K)(this.handleError))}addProgressComment(t,o){return this.http.patch(`${this.domain}/session/${t}/comment`,{progressComment:o}).pipe((0,g.K)(this.handleError))}getEnrolledStudents(t){return this.http.get(`${this.domain}/course/${t}/students`).pipe((0,g.K)(this.handleError))}addStudentComment(t,o){return this.http.patch(`${this.domain}/course/${t}/studentComment`,o,{headers:new C.WM({"Content-Type":"application/json"})}).pipe((0,g.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN),e.LFG(Z.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A(n,s){if(1&n&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&n){const t=s.$implicit,o=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",o.getMonthName(t-1)," ")}}function q(n,s){if(1&n&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function S(n,s){if(1&n&&(e.ynx(0,25),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.HOy(" ",t.courseID.name," ",t.startTime," ",t.endTime," ",t.progressComment," ")}}function k(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",25),e.YNc(2,S,2,4,"ng-container",26),e.qZA(),e.BQk()),2&n){const t=s.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",t.date.getDate()===o)}}function D(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"tr",24)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e.YNc(7,k,3,1,"ng-container",22),e.qZA()(),e.BQk()),2&n){const t=s.$implicit,o=e.oxw();e.xp6(3),e.Oqu(o.daysOfWeek[(o.firstDay+t-1)%7]),e.xp6(2),e.Oqu(t),e.xp6(2),e.Q6J("ngForOf",o.sessions)}}let U=(()=>{class n{constructor(t){this.teacher=t,this.sessions=[],this.selectedMonth=(new Date).getMonth()+1,this.selectedYear=(new Date).getFullYear(),this.date=`${this.selectedYear}-${this.selectedMonth}-01`,this.firstDay=new Date(this.date).getDay(),this.daysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.months=Array.from({length:12},(o,i)=>i+1),this.days=Array.from({length:31},(o,i)=>i+1),this.currentYear=(new Date).getFullYear(),this.years=Array.from({length:11},(o,i)=>this.currentYear+i),this.teacher.buttonClicked.subscribe(()=>{this.getSessions()})}getSessions(){const t={month:this.selectedMonth,year:this.selectedYear};this.date=`${this.selectedYear}-${this.selectedMonth}-01`,this.firstDay=new Date(this.date).getDay(),this.teacher.getSessions(t).subscribe({next:o=>{this.sessions=o.map((i,r)=>({...i,id:r+1,date:new Date(i.date.split("T")[0])}))}})}getMonthName(t){return new Date(2e3,t,1).toLocaleString("default",{month:"long"})}ngOnInit(){this.getSessions()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule"]],decls:39,vars:6,consts:[[1,"d-flex","justify-content-between","page"],[1,"table-area","container-fluid"],[1,"d-flex","justify-content-between","m-1","filter-add","mb-2"],[1,"divHeading"],[1,"display-4"],[1,"d-flex","flex-wrap"],[1,"form-group","mr-2"],["for","teacher-dropdown"],["id","teacher-dropdown",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mx-2"],["for","level-dropdown"],["id","level-dropdown",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"row","text-left"],[1,"col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title","m-0"],[1,"card-content"],[1,"card-body"],[1,"table-wrapper"],[1,"table","table-responsive-md","table-striped","text-center"],[4,"ngFor","ngForOf"],[3,"value"],[1,"tr","h-3"],[1,"sessionDiv"],["class","sessionDiv",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"My Schedule"),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Month"),e.qZA(),e.TgZ(10,"select",8),e.NdJ("ngModelChange",function(r){return o.selectedMonth=r})("change",function(){return o.getSessions()}),e.YNc(11,A,2,2,"option",9),e.qZA()(),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"Year"),e.qZA(),e.TgZ(15,"select",12),e.NdJ("ngModelChange",function(r){return o.selectedYear=r})("change",function(){return o.getSessions()}),e.YNc(16,q,2,2,"option",9),e.qZA()()()(),e.ynx(17),e.TgZ(18,"div",13),e.ynx(19),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"h1",17),e._uU(24),e.qZA()(),e.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"table",21)(29,"thead")(30,"tr")(31,"th"),e._uU(32,"Day Of week"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Date"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Sessions"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,D,8,3,"ng-container",22),e.qZA()()()()()()(),e.BQk(),e.qZA(),e.BQk(),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("ngModel",o.selectedMonth),e.xp6(1),e.Q6J("ngForOf",o.months),e.xp6(4),e.Q6J("ngModel",o.selectedYear),e.xp6(1),e.Q6J("ngForOf",o.years),e.xp6(8),e.hij(" My Sessions of ",o.getMonthName(o.selectedMonth-1)," "),e.xp6(14),e.Q6J("ngForOf",o.days))},dependencies:[l.sg,l.O5,a.YN,a.Kr,a.EJ,a.JJ,a.On],styles:['.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;font-weight:500;letter-spacing:0;text-shadow:#c3a668;line-height:1.5em;padding-bottom:15px;position:relative;color:#c3a668}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;height:5px;width:55px;background-color:#5b2d1e}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:2px;height:1px;width:95%;max-width:255px;background-color:#5b2d1e}.page[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-sizing:border-box}.table-area[_ngcontent-%COMP%]{width:90%;margin:1vw}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.addCourse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#c3a668;color:#fff;font-size:12px;padding:.2rem;border-radius:5px;cursor:pointer;transform:scale(1);transition:.25s}.addCourse[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:5px}tr[_ngcontent-%COMP%]{height:auto}.sessionDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column}.action[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.card-content[_ngcontent-%COMP%]{background-color:#f9f6ef}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n + 1) > td[_ngcontent-%COMP%], .table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n + 1) > th[_ngcontent-%COMP%]{background-color:#f3ede0}.card-header[_ngcontent-%COMP%]{background-color:#d5c095;color:#fff}@media (max-width: 992px){.page[_ngcontent-%COMP%]{flex-direction:column!important;transition:.25s}.table-area[_ngcontent-%COMP%]{width:100%}.filter-add[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.addCourse[_ngcontent-%COMP%]{width:30vh;margin:3vw}}@media (max-width: 575.98px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:scroll}}@media (min-width: 576px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:auto}}@media (min-width: 1200px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:auto}}@media (max-width: 767px){.table-responsive-md[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-responsive-md[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 768px){.table-responsive-md[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-responsive-md[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}}']}),n})();var d=c(5412),N=c(5226),Q=c.n(N);let T=(()=>{class n{constructor(t){this._httpClient=t,this.buttonClicked=new e.vpe}getCategoriesNotPaginated(){return this._httpClient.get(`${b.Z}/category/allCategories?type=question`)}getTeacherAnswers(t,o,i,r){return this._httpClient.get(`${b.Z}/question?page=${t}&limit=${o}&categoryID=${i}&teacherID=${r}`)}editAnswer(t,o){return this._httpClient.patch(`${b.Z}/question/${t}/answer`,o,{headers:new C.WM({"Content-Type":"application/json"})})}deleteAnswer(t){return this._httpClient.patch(`${b.Z}/question/${t}/remove/answer`,{},{headers:new C.WM({"Content-Type":"application/json"})})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var p=c(2018),x=c(4859),_=c(9549),v=c(4144);function J(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Answer cannot be empty. "),e.qZA())}let E=(()=>{class n{constructor(t,o,i,r){this._QAService=t,this.toastr=o,this.dialogRef=i,this.data=r,this.answerForm=new a.cw({answer:new a.NI(this.data.answer,[a.kI.required])})}editAnswer(){this._QAService.editAnswer(this.data.questionID,this.answerForm.value).subscribe({next:t=>{console.log(t),this._QAService.buttonClicked.emit(),this.dialogRef.close()},error:t=>{this.toastr.error(422===t.status?t.error.error:"cannot update answer!")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T),e.Y36(p._W),e.Y36(d.so),e.Y36(d.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-answer-modal"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography","bg"],[1,"m-3","color"],[1,"form",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"custom-field"],["matInput","","placeholder","answer","formControlName","answer",1,"form-control"],[4,"ngIf"],[1,"modal-buttons","mt-3"],["mat-raised-button","","type","submit",1,"add-course-btn",3,"disabled","click"],["mat-raised-button","","mat-dialog-close","",1,"mx-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Edit Question"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6),e._UZ(8,"input",7),e.YNc(9,J,2,0,"mat-error",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return o.editAnswer()}),e._uU(12," Update "),e.qZA(),e.TgZ(13,"button",11),e._uU(14,"Cancel"),e.qZA()()()()()),2&t){let i;e.xp6(4),e.Q6J("formGroup",o.answerForm),e.xp6(5),e.Q6J("ngIf",null!=(null==(i=o.answerForm.get("answer"))?null:i.errors)&&(null==(i=o.answerForm.get("answer"))?null:i.touched)),e.xp6(2),e.Q6J("disabled",o.answerForm.invalid)}},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,d.ZT,d.uh,d.xY,x.lW,_.KE,_.TO,v.Nt,a.sg,a.u],styles:[".custom-field[_ngcontent-%COMP%]{width:100%;max-width:800px}.add-course-btn[_ngcontent-%COMP%]{background-color:#c3a668!important}"]}),n})();var I=c(1982),O=c(7392);function F(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div")(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p",9),e._uU(5,"Answered By "),e.TgZ(6,"a",10),e._uU(7),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editAnswer())}),e.TgZ(11,"mat-icon",14),e._uU(12,"edit"),e.qZA()()(),e.TgZ(13,"div",12)(14,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteAnswer())}),e.TgZ(15,"mat-icon",16),e._uU(16,"delete"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.question.answer),e.xp6(4),e.AsE(" ",t.question.teacherID.firstName," ",t.question.teacherID.lastName," ")}}function Y(n,s){1&n&&(e.TgZ(0,"div",17)(1,"h4"),e._uU(2,"Not answered yet!"),e.qZA()())}let $=(()=>{class n{constructor(){this.deleteAnswerEvent=new e.vpe,this.editAnswerEvent=new e.vpe}ngOnInit(){}deleteAnswer(){this.deleteAnswerEvent.emit()}editAnswer(){this.editAnswerEvent.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-question"]],inputs:{question:"question"},outputs:{deleteAnswerEvent:"deleteAnswerEvent",editAnswerEvent:"editAnswerEvent"},decls:11,vars:4,consts:[[1,"question-container","my-4"],[1,"d-flex","justify-content-between","shadow"],[1,""],[1,"category","p-1","mb-2","rounded"],[1,"p-3"],[1,"fs-2","fw-bold","me-2"],["class","d-flex justify-content-between  border p-4 bg-light",4,"ngIf"],["class","shadow border p-4 bg-light",4,"ngIf"],[1,"d-flex","justify-content-between","border","p-4","bg-light"],[2,"font-size","14px"],["routerLink","home",1,"teacher"],[1,"d-flex"],[1,"action"],["mat-icon-button","","color","primary","title","edit",3,"click"],["aria-label","Edit",1,"material-icons-outlined"],["mat-icon-button","","color","warn","title","delete",3,"click"],["aria-label","Delete",1,"material-icons-outlined"],[1,"shadow","border","p-4","bg-light"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"h3",4)(6,"span",5),e._uU(7,"Q"),e.qZA(),e._uU(8),e.qZA()()(),e.YNc(9,F,17,3,"div",6),e.YNc(10,Y,3,0,"div",7),e.qZA()),2&t&&(e.xp6(4),e.Oqu(null==o.question.categoryID?null:o.question.categoryID.name),e.xp6(4),e.hij(" ",o.question.question,""),e.xp6(1),e.Q6J("ngIf",o.question.answer),e.xp6(1),e.Q6J("ngIf",!o.question.answer))},dependencies:[l.O5,u.rH,O.Hw,x.RK],styles:[".teacher[_ngcontent-%COMP%]{color:#af9068;text-decoration:none}.category[_ngcontent-%COMP%]{background-color:#af9068;color:#fff;width:-moz-fit-content;width:fit-content}span[_ngcontent-%COMP%]{color:#af9068}"]}),n})();function j(n,s){if(1&n&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t._id),e.xp6(1),e.Oqu(t.name)}}function L(n,s){1&n&&(e.TgZ(0,"div",15)(1,"h2"),e._uU(2," NO ANSWERS YET "),e.qZA()())}function H(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-question",16),e.NdJ("editAnswerEvent",function(){const r=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.openEditAnswerModal(r))})("deleteAnswerEvent",function(){const r=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.deleteAnswer(r._id))}),e.qZA()()}if(2&n){const t=s.$implicit;e.xp6(1),e.Q6J("question",t)}}function K(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"nav",17)(1,"ul",18)(2,"li",19)(3,"a",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.prevPage())}),e._uU(4,"Previous"),e.qZA()(),e.TgZ(5,"li",19)(6,"a",21),e._uU(7),e.qZA()(),e.TgZ(8,"li",19)(9,"a",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextPage())}),e._uU(10,"Next"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.currentPage)}}let z=(()=>{class n{constructor(t,o,i,r){this._QAService=t,this._authService=o,this.toastr=i,this.dialog=r,this.questions=[],this.categories=[],this.pageInfo={},this.limit=20,this.categoryID="",this.teacherID="",this.currentPage=1,this.dialogConfig=new d.vA,this._QAService.buttonClicked.subscribe(()=>{this.getQuestions()})}ngOnInit(){this.teacherID=this._authService.getDecodedToken().id,this.getQuestions(),this._QAService.getCategoriesNotPaginated().subscribe({next:t=>{this.categories=t},error:t=>{console.log(t)}})}getQuestions(){this._QAService.getTeacherAnswers(this.currentPage,this.limit,this.categoryID,this.teacherID).subscribe({next:t=>{"success"===t.message&&(this.questions=t.data.docs,this.pageInfo=t.data)},error:t=>{console.log(t)}})}changeCategory(){this.currentPage=1,this.getQuestions()}nextPage(){this.pageInfo.hasNextPage&&(this.currentPage++,this.getQuestions())}prevPage(){this.pageInfo.hasPrevPage&&(this.currentPage--,this.getQuestions())}openEditAnswerModal(t){this.dialogConfig.data={answer:t.answer,questionID:t._id},this.dialog.open(E,this.dialogConfig)}deleteAnswer(t){Q().fire(I.Z.deleteAnswerOptions).then(o=>{o.value&&this._QAService.deleteAnswer(t).subscribe({next:i=>{this.toastr.success("answer deleted successfully","Success"),this.getQuestions()},error:i=>{this.toastr.error("Error deleting answer")}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T),e.Y36(Z.e),e.Y36(p._W),e.Y36(d.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-questions"]],decls:18,vars:5,consts:[[1,"pt-3"],[1,"container"],[1,"divHeading"],[1,"display-4"],[1,"d-flex"],["for",""],["aria-label","Default select example",1,"form-select","w-75",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12"],["class","p-5","style","height: 80vh;",4,"ngIf"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",4,"ngIf"],[3,"value"],[1,"p-5",2,"height","80vh"],[3,"question","editAnswerEvent","deleteAnswerEvent"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center","mt-4"],[1,"page-item"],[1,"page-link",3,"click"],[1,"page-link"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"My Answers"),e.qZA()(),e.TgZ(5,"div",4)(6,"div")(7,"label",5),e._uU(8,"Category"),e.qZA(),e.TgZ(9,"select",6),e.NdJ("ngModelChange",function(r){return o.categoryID=r})("change",function(){return o.changeCategory()}),e.TgZ(10,"option",7),e._uU(11,"All"),e.qZA(),e.YNc(12,j,2,2,"option",8),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10),e.YNc(15,L,3,0,"div",11),e.YNc(16,H,2,1,"div",12),e.YNc(17,K,11,1,"nav",13),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("ngModel",o.categoryID),e.xp6(3),e.Q6J("ngForOf",o.categories),e.xp6(3),e.Q6J("ngIf",!o.questions.length),e.xp6(1),e.Q6J("ngForOf",o.questions),e.xp6(1),e.Q6J("ngIf",o.questions.length))},dependencies:[l.sg,l.O5,a.YN,a.Kr,a.EJ,a.JJ,a.On,$],styles:['.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;font-weight:500;letter-spacing:0;text-shadow:#c3a668;line-height:1.5em;padding-bottom:15px;position:relative;color:#c3a668}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;height:5px;width:55px;background-color:#5b2d1e}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:2px;height:1px;width:95%;max-width:255px;background-color:#5b2d1e}']}),n})();var M=c(9602);let B=(()=>{class n{constructor(t,o){this.teacherService=t,this.toastr=o,this.teacherData={}}ngOnInit(){this.getTeacherData()}getTeacherData(){this.teacherService.getTeacherProfile().subscribe(t=>{this.teacherData=t},t=>{console.error(t)})}updateTeacher(){this.teacherService.updateTeacherProfile(this.teacherData).subscribe(t=>{this.teacherData=t,this.toastr.success("Data updated successfully","Success")},t=>{console.error(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(p._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:40,vars:9,consts:[[1,"container","mt-3"],[3,"ngSubmit"],["updateForm","ngForm"],[1,"form-group"],["for","name"],["type","text","id","firstName","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","lastName","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["for","gender"],["id","gender","name","gender","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","Male"],["value","Female"],["for","DOB"],[1,"input-group"],["matInput","","placeholder","Choose a date","id","DOB","name","DOB","required","",1,"form-control",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["dobPicker",""],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Profile"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"form",1,2),e.NdJ("ngSubmit",function(){return o.updateTeacher()}),e.TgZ(6,"div",3)(7,"label",4),e._uU(8,"First Name:"),e.qZA(),e.TgZ(9,"input",5),e.NdJ("ngModelChange",function(r){return o.teacherData.firstName=r}),e.qZA()(),e.TgZ(10,"div",3)(11,"label",4),e._uU(12,"Last Name:"),e.qZA(),e.TgZ(13,"input",6),e.NdJ("ngModelChange",function(r){return o.teacherData.lastName=r}),e.qZA()(),e.TgZ(14,"div",3)(15,"label",7),e._uU(16,"Email:"),e.qZA(),e.TgZ(17,"input",8),e.NdJ("ngModelChange",function(r){return o.teacherData.email=r}),e.qZA()(),e.TgZ(18,"div",3)(19,"label",9),e._uU(20,"Password:"),e.qZA(),e.TgZ(21,"input",10),e.NdJ("ngModelChange",function(r){return o.teacherData.password=r}),e.qZA()(),e.TgZ(22,"div",3)(23,"label",11),e._uU(24,"Gender:"),e.qZA(),e.TgZ(25,"select",12),e.NdJ("ngModelChange",function(r){return o.teacherData.gender=r}),e.TgZ(26,"option",13),e._uU(27,"Male"),e.qZA(),e.TgZ(28,"option",14),e._uU(29,"Female"),e.qZA()()(),e.TgZ(30,"div",3)(31,"label",15),e._uU(32,"Date of Birth:"),e.qZA(),e.TgZ(33,"div",16)(34,"input",17),e.NdJ("ngModelChange",function(r){return o.teacherData.DOB=r}),e.qZA(),e._UZ(35,"mat-datepicker-toggle",18)(36,"mat-datepicker",null,19),e.qZA()(),e.TgZ(38,"button",20),e._uU(39,"Update"),e.qZA()()()),2&t){const i=e.MAs(5),r=e.MAs(37);e.xp6(9),e.Q6J("ngModel",o.teacherData.firstName),e.xp6(4),e.Q6J("ngModel",o.teacherData.lastName),e.xp6(4),e.Q6J("ngModel",o.teacherData.email),e.xp6(4),e.Q6J("ngModel",o.teacherData.password),e.xp6(4),e.Q6J("ngModel",o.teacherData.gender),e.xp6(9),e.Q6J("matDatepicker",r)("ngModel",o.teacherData.DOB),e.xp6(1),e.Q6J("for",r),e.xp6(3),e.Q6J("disabled",i.invalid)}},dependencies:[a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F,_.R9,v.Nt,M.Mq,M.hl,M.nW],styles:["p[_ngcontent-%COMP%]{margin-bottom:.5rem}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], button[type=submit][_ngcontent-%COMP%]{width:100%;font-size:1rem;border:1px solid #ccc;border-radius:4px;margin-bottom:1rem}select[_ngcontent-%COMP%]{height:38px}button[type=submit][_ngcontent-%COMP%]{color:#5b2d1e;background-color:#c3a668;border:none;border-radius:4px;font-size:1.2rem;font-weight:500;padding:.5rem 1rem;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:1.5rem;border:none;border-bottom:1px solid #eee}.form-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{filter:invert(1)}.form-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}.form-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]::-webkit-clear-button{display:none}"]}),n})();var f=c(3546);function G(n,s){if(1&n&&(e.TgZ(0,"div",25)(1,"p",26),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.description)}}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"mat-card")(2,"mat-card-header",16)(3,"mat-card-title",17),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content",18)(6,"div")(7,"p",19),e._uU(8),e.TgZ(9,"a",20),e.NdJ("click",function(){const r=e.CHM(t).$implicit,h=e.oxw();return e.KtG(h.showBubble(r))}),e._uU(10,"See more"),e.qZA()(),e.YNc(11,G,3,1,"div",21),e.TgZ(12,"p")(13,"strong"),e._uU(14,"Level:"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"strong"),e._uU(18,"Days:"),e.qZA(),e._uU(19),e.qZA()(),e.TgZ(20,"div")(21,"mat-card-actions",22)(22,"p",23),e._uU(23),e.qZA(),e.TgZ(24,"button",24),e._uU(25," View Course "),e.qZA()()()()()()}if(2&n){const t=s.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(4),e.hij(" ",t.description.split(" ").slice(0,4).join(" ")+"...",""),e.xp6(3),e.Q6J("ngIf",t.showBubble),e.xp6(4),e.hij(" ",t.level," "),e.xp6(4),e.hij(" ",t.daysOfWeek," "),e.xp6(4),e.hij(" ",1==t.countOfStudents?t.countOfStudents+"Enrolled Student":t.countOfStudents+" Enrolled Students"," "),e.xp6(1),e.Q6J("routerLink","/teacher/course/"+t._id)}}const P=function(n){return{disabled:n}};function R(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"nav",27)(1,"ul",28)(2,"li",29)(3,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.prevPage())}),e._uU(4," Previous"),e.qZA()(),e.TgZ(5,"li",29)(6,"a",31),e._uU(7),e.qZA()(),e.TgZ(8,"li",29)(9,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.nextPage())}),e._uU(10,"Next"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(3,P,!t.hasPrevPage)),e.xp6(4),e.Oqu(t.currentPage),e.xp6(2),e.Q6J("ngClass",e.VKq(5,P,!t.hasNextPage))}}let X=(()=>{class n{constructor(t){this.teacher=t,this.courses=[],this.currentPage=1,this.pageSize=6,this.selectedLevel="All",this.hasNextPage=!1,this.hasPrevPage=!1,this.teacher.buttonClicked.subscribe(()=>{this.getCourses()})}ngOnInit(){this.getCourses()}getCourses(){const t={page:this.currentPage,level:"All"!==this.selectedLevel?this.selectedLevel.toLocaleLowerCase():null};this.teacher.getTeacherCourses(t).subscribe({next:o=>{this.courses=o.docs.map((i,r)=>({...i,id:r+1})),this.hasNextPage=o.hasNextPage,this.hasPrevPage=o.hasPrevPage}})}showBubble(t){t.showBubble=!t.showBubble}nextPage(){this.hasNextPage&&(this.currentPage++,this.getCourses())}prevPage(){this.hasPrevPage&&(this.currentPage--,this.getCourses())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-my-courses"]],decls:24,vars:3,consts:[[1,"container"],[1,"m-2"],[1,"divHeading"],[1,"display-4"],[1,"d-flex","flex-wrap"],[1,"form-group","mx-2"],["for","level-dropdown"],["id","level-dropdown",1,"form-control",3,"ngModel","ngModelChange","change"],["value","kids"],["value","beginner"],["value","intermediate"],["value","advanced"],[1,"card-container","d-flex","flex-wrap"],["class","card",4,"ngFor","ngForOf"],["aria-label","Page navigation example",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"course-name"],[1,"card-content"],[1,"course-description"],[1,"read-more",3,"click"],["class","bubble",4,"ngIf"],[1,"card-actions"],[1,"students","mx-2"],[1,"enrollBtn","btn",3,"routerLink"],[1,"bubble"],[1,"description-full"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center","mt-4"],[1,"page-item"],[1,"page-link",3,"ngClass","click"],[1,"page-link"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"My Courses"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8,"Level"),e.qZA(),e.TgZ(9,"select",7),e.NdJ("ngModelChange",function(r){return o.selectedLevel=r})("change",function(){return o.getCourses()}),e.TgZ(10,"option"),e._uU(11,"All"),e.qZA(),e.TgZ(12,"option",8),e._uU(13,"Kids"),e.qZA(),e.TgZ(14,"option",9),e._uU(15,"Beginner"),e.qZA(),e.TgZ(16,"option",10),e._uU(17,"Intermediate"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"Advanced"),e.qZA()()()(),e.ynx(20),e.TgZ(21,"div",12),e.YNc(22,W,26,7,"div",13),e.qZA(),e.YNc(23,R,11,7,"nav",14),e.BQk(),e.qZA()()),2&t&&(e.xp6(9),e.Q6J("ngModel",o.selectedLevel),e.xp6(13),e.Q6J("ngForOf",o.courses),e.xp6(1),e.Q6J("ngIf",o.courses.length))},dependencies:[l.mk,l.sg,l.O5,u.rH,a.YN,a.Kr,a.EJ,a.JJ,a.On,f.a8,f.hq,f.dn,f.dk,f.n5],styles:['.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:35px;font-weight:500;letter-spacing:0;text-shadow:#c3a668;line-height:1.5em;padding-bottom:15px;position:relative;color:#c3a668}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;height:5px;width:55px;background-color:#5b2d1e}.divHeading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:2px;height:1px;width:95%;max-width:255px;background-color:#5b2d1e}.page[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-sizing:border-box}.table-area[_ngcontent-%COMP%]{width:90%;margin:1vw}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:10px;padding:10px;gap:4rem}.card[_ngcontent-%COMP%]{margin:5px;padding:15px;width:900px;background-color:#bdb299;height:220px;align-items:center;box-shadow:#0000004d 0 19px 38px,#00000038 0 15px 12px;border-radius:5px;position:relative;background-size:cover;z-index:0}.card[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0000000a}.students[_ngcontent-%COMP%]{color:#5b2d1e;font-weight:500;font-size:18px;margin-top:5px}.card-actions[_ngcontent-%COMP%]{padding:1px;margin-top:65px}.enrollBtn[_ngcontent-%COMP%]{background-color:#c3a668;color:#422015;margin-left:10px;margin-bottom:5px;font-weight:700}.card-content[_ngcontent-%COMP%]{width:870px;box-shadow:#0000003d 0 3px 8px;height:130px;padding:15px;display:flex;flex-direction:row;justify-content:space-between;font-size:18px}.card-header[_ngcontent-%COMP%]{padding:6px;margin-bottom:12px;height:50px;background-image:url(bg.dbe6f87152b00799.jpg);text-align:center;display:flex;justify-content:center}.course-name[_ngcontent-%COMP%]{font-size:30px;color:#5b2d1e;text-align:center}.course-description[_ngcontent-%COMP%]{margin-top:2px}strong[_ngcontent-%COMP%]{color:#5b2d1e;font-size:15px}.read-more[_ngcontent-%COMP%]{cursor:pointer}.bubble[_ngcontent-%COMP%]{position:absolute;top:5;left:2%;border-radius:10px;width:250px;padding:20px;background-color:#f4ede4;box-shadow:0 0 10px #0003}.description-full[_ngcontent-%COMP%]{margin:0}']}),n})();function V(n,s){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," comment must be 3-255 characters "),e.qZA())}let ee=(()=>{class n{constructor(t,o,i,r){this._teacherService=t,this.toastr=o,this.dialogRef=i,this.data=r,this.commentForm=new a.cw({comment:new a.NI(this.data.progressComment,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)])})}setSessionComment(t){console.log(this.commentForm.value.comment),this._teacherService.addProgressComment(t,this.commentForm.value.comment).subscribe({next:o=>{this.toastr.success("Comment added Successfully","Success"),this._teacherService.sessionDetailsChange.emit(),this.dialogRef.close()},error:o=>{this.toastr.error(404===o.status||401===o.status?`${o.error.error}`:"Cannot add comment","Error")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(p._W),e.Y36(d.so),e.Y36(d.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-session-comment-modal"]],decls:15,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography","bg"],[1,"m-3","color"],[1,"form",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"custom-field"],["matInput","","placeholder","Add comment...","formControlName","comment",1,"form-control"],[4,"ngIf"],[1,"modal-buttons","mt-3"],["mat-raised-button","","type","submit",1,"add-course-btn",3,"disabled","click"],["mat-raised-button","","mat-dialog-close","",1,"mx-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Add Progress Comment"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6),e._UZ(8,"input",7),e.YNc(9,V,2,0,"mat-error",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return o.setSessionComment(o.data.id)}),e._uU(12," Submit "),e.qZA(),e.TgZ(13,"button",11),e._uU(14,"Cancel"),e.qZA()()()()()),2&t){let i;e.xp6(4),e.Q6J("formGroup",o.commentForm),e.xp6(5),e.Q6J("ngIf",null!=(null==(i=o.commentForm.get("comment"))?null:i.errors)&&(null==(i=o.commentForm.get("comment"))?null:i.touched)),e.xp6(2),e.Q6J("disabled",o.commentForm.invalid)}},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,d.ZT,d.uh,d.xY,x.lW,_.KE,_.TO,v.Nt,a.sg,a.u],styles:[".custom-field[_ngcontent-%COMP%]{width:100%;max-width:800px}.add-course-btn[_ngcontent-%COMP%]{background-color:#c3a668!important}"]}),n})();function te(n,s){if(1&n&&(e.TgZ(0,"p")(1,"span",4),e._uU(2,"Your Comment: "),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij("",t.student.teacherComment," ")}}function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmit(i.student.courseId._id))}),e.TgZ(1,"textarea",6),e._uU(2,"        "),e.qZA(),e.TgZ(3,"button",7),e._uU(4,"Add Comment"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.commentForm)}}let oe=(()=>{class n{constructor(t,o){this._teacherService=t,this.toastr=o,this.commentForm=new a.cw({comment:new a.NI("",[a.kI.minLength(5)]),studentId:new a.NI})}onSubmit(t){this.commentForm.value.studentId=this.student.studentId._id,this._teacherService.addStudentComment(t,this.commentForm.value).subscribe({next:i=>{this.toastr.success("Comment added successfully","Success"),this._teacherService.commentAdded.emit()},error:i=>{this.toastr.error("Couldnt add comment","Error")}});const o=this.commentForm.get("comment")?.value;console.log("Submitted Comment:",o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(p._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enrolledstudent"]],inputs:{student:"student"},decls:5,vars:4,consts:[[1,"ms-2"],[1,"text-color","mb-2"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"fw-bold"],[3,"formGroup","ngSubmit"],["name","","id","","cols","","formControlName","comment",1,"form-control"],[1,"btn","bg-add","mt-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.YNc(3,te,4,1,"p",2),e.YNc(4,ne,5,1,"form",3),e.qZA()),2&t&&(e.xp6(2),e.AsE("",o.student.studentId.firstName," ",o.student.studentId.lastName,""),e.xp6(1),e.Q6J("ngIf",o.student.teacherComment),e.xp6(1),e.Q6J("ngIf",!o.student.teacherComment))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["section[_ngcontent-%COMP%]{width:50vw;height:70vh;overflow:auto}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#5b2d1e}.text-color[_ngcontent-%COMP%]{color:#c3a668;font-size:1.2rem}.bg-add[_ngcontent-%COMP%]{background-color:#5b2d1e;color:#fff;cursor:pointer}.bg-students[_ngcontent-%COMP%]{background-color:#c3a668}"]}),n})();function ie(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"span",6),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function se(n,s){if(1&n&&(e.TgZ(0,"li",9),e._UZ(1,"app-enrolledstudent",10),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("student",t)}}function re(n,s){if(1&n&&(e.TgZ(0,"ul",7),e.YNc(1,se,2,1,"li",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.students)}}let ae=(()=>{class n{constructor(t,o,i,r){this._teacherService=t,this.toastr=o,this.dialogRef=i,this.data=r,this.isLoading=!0}ngOnInit(){this.getEnrolledStudents(),this._teacherService.commentAdded.subscribe(()=>{this.getEnrolledStudents()})}getEnrolledStudents(){this.isLoading=!0,this._teacherService.getEnrolledStudents(this.data.courseID).subscribe({next:t=>{console.log(t),this.students=t,this.isLoading=!1},error:t=>{this.toastr.error("Cannot view students","Error"),this.isLoading=!1}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m),e.Y36(p._W),e.Y36(d.so),e.Y36(d.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-students-enrolled-modal"]],decls:5,vars:2,consts:[[1,""],[1,"text-center","py-4","fs-3","bg-students"],[4,"ngIf"],["class","list-group",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","auto"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"student"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"h2",1),e._uU(2,"Attendees"),e.qZA(),e.YNc(3,ie,5,0,"ng-container",2),e.YNc(4,re,2,1,"ul",3),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[l.sg,l.O5,oe],styles:["section[_ngcontent-%COMP%]{width:50vw;height:70vh;overflow:auto}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#5b2d1e}.text-color[_ngcontent-%COMP%]{color:#c3a668;font-size:1.2rem}.bg-add[_ngcontent-%COMP%]{background-color:#5b2d1e;color:#fff;cursor:pointer}.bg-students[_ngcontent-%COMP%]{background-color:#c3a668}"]}),n})();function ce(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function le(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw(2);return e.KtG(r.openSessionCommentModal(i))}),e._uU(1,"Edit Progress Comment"),e.qZA()}}function de(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"p",23)(2,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.CommentHide(i))}),e._uU(3,"X"),e.qZA(),e._UZ(4,"br"),e._uU(5),e.qZA(),e.YNc(6,le,2,0,"button",21),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(5),e.hij(" ",t.progressComment," "),e.xp6(1),e.Q6J("ngIf",o.hasSessionEnded(t)&&t.progressComment)}}const ue=function(n){return{sessionNum:n}};function ge(n,s){if(1&n&&(e.TgZ(0,"button",26),e._uU(1,"View Details"),e.qZA()),2&n){const t=e.oxw(),i=t.index;e.Q6J("routerLink","/teacher/session/"+t.$implicit._id)("queryParams",e.VKq(2,ue,i+1))}}function me(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openSessionCommentModal(i))}),e._uU(1,"Add Progress Comment"),e.qZA()}}function pe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.CommentDisplay(i))}),e._uU(1,"Show Progress Comment"),e.qZA()}}const he=function(n){return{"today-session":n}};function _e(n,s){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e.YNc(2,de,7,2,"div",15),e.TgZ(3,"h2",16),e._uU(4),e.qZA(),e.TgZ(5,"h3",17),e._uU(6),e._UZ(7,"br"),e.TgZ(8,"span",18),e._uU(9),e.qZA(),e._uU(10," Till "),e.TgZ(11,"span",18),e._uU(12),e.qZA()(),e.TgZ(13,"div",19),e.YNc(14,ge,2,4,"button",20),e.YNc(15,me,2,0,"button",21),e.YNc(16,pe,2,0,"button",21),e.qZA()()()),2&n){const t=s.$implicit,o=s.index,i=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(9,he,i.sessionStartingSoon(t))),e.xp6(1),e.Q6J("ngIf",i.hasSessionEnded(t)&&t.progressComment&&t.viewComment),e.xp6(2),e.hij("Session ",o+1,""),e.xp6(2),e.hij(" ",i.formatDate(t.date)," "),e.xp6(3),e.hij(" ",t.startTime," "),e.xp6(3),e.hij(" ",t.endTime," "),e.xp6(2),e.Q6J("ngIf",!i.hasSessionEnded(t)),e.xp6(1),e.Q6J("ngIf",i.hasSessionEnded(t)&&!t.progressComment),e.xp6(1),e.Q6J("ngIf",i.hasSessionEnded(t)&&t.progressComment)}}function fe(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"h3",6),e._uU(4),e.qZA(),e.TgZ(5,"dl",7)(6,"dt"),e._uU(7,"Description"),e.qZA(),e.TgZ(8,"dd",8),e._uU(9),e.qZA(),e.TgZ(10,"dt"),e._uU(11,"Number Of Sessions"),e.qZA(),e.TgZ(12,"dd"),e._uU(13),e.qZA(),e.TgZ(14,"dt"),e._uU(15,"Level"),e.qZA(),e.TgZ(16,"dd"),e._uU(17),e.qZA(),e.TgZ(18,"dt"),e._uU(19,"Days"),e.qZA(),e.TgZ(20,"dd"),e._uU(21),e.qZA()(),e.TgZ(22,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.viewStudents())}),e._uU(23," View Enrolled Students"),e.qZA()()(),e.TgZ(24,"div",10)(25,"h3",6),e._uU(26,"Course Sessions"),e.qZA(),e.TgZ(27,"div",11),e.YNc(28,_e,17,11,"div",12),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.course.name),e.xp6(5),e.Oqu(t.course.description),e.xp6(4),e.Oqu(t.course.sessions.length),e.xp6(4),e.Oqu(t.course.level),e.xp6(4),e.Oqu(t.course.daysOfWeek),e.xp6(7),e.Q6J("ngForOf",t.course.sessions)}}function be(n,s){1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"Loading..."),e.qZA()()(),e.BQk())}function xe(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createMeeting())}),e._uU(2," Generate meeting link "),e.qZA(),e.BQk()}}function ve(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"button",14)(2,"a",15),e._uU(3," start Meeting "),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("href",t.session.startUrl,e.LSH)}}function Me(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h1",8),e._uU(6),e.qZA(),e.TgZ(7,"div",9)(8,"h2"),e._uU(9),e.qZA(),e.TgZ(10,"h2")(11,"span",10),e._uU(12,"Course Level : "),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"h2")(15,"span",10),e._uU(16,"Number Of Enrolled Students : "),e.qZA(),e._uU(17,"##"),e.qZA(),e.TgZ(18,"h2")(19,"span",10),e._uU(20,"Session Number : "),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"p"),e._uU(23,"Please Don't Forget To Add Progress Comment"),e.qZA()()()(),e.TgZ(24,"div",11)(25,"div",12)(26,"h2"),e._uU(27),e.qZA(),e.TgZ(28,"h2"),e._uU(29),e.qZA(),e.TgZ(30,"h2"),e._uU(31),e.qZA(),e.YNc(32,xe,3,0,"ng-container",0),e.YNc(33,ve,4,1,"ng-container",0),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.session.courseID.name," "),e.xp6(3),e.Oqu(t.session.courseID.description),e.xp6(4),e.Oqu(t.session.courseID.level),e.xp6(8),e.Oqu(t.sessionNum),e.xp6(6),e.hij("Start Date: ",t.formatDate(t.session.date)," "),e.xp6(2),e.hij("Start Time: ",t.session.startTime," "),e.xp6(2),e.hij("End Time: ",t.session.endTime," "),e.xp6(1),e.Q6J("ngIf",!t.session.startUrl),e.xp6(1),e.Q6J("ngIf",t.session.startUrl)}}const we=[{path:"schedule",component:U},{path:"questions",component:z},{path:"courses",component:X},{path:"profile",component:B},{path:"course/:id",component:(()=>{class n{constructor(t,o,i,r,h){this._activatedRoute=t,this._teacherService=o,this.toastr=i,this._Router=r,this.dialog=h,this.id="",this.isLoading=!0,this.dialogConfig=new d.vA,this.id=this._activatedRoute.snapshot.params.id,this.getCourseDetails(),this._teacherService.sessionDetailsChange.subscribe(()=>{this.getCourseDetails()})}ngOnInit(){}getCourseDetails(){this._teacherService.getCourseDetails(this.id).subscribe({next:t=>{this.course=t,this.isLoading=!1,console.log(t)},error:t=>{404===t.status?(this.toastr.error(`${t.error.error}`,"Error"),this._Router.navigate(["/teacher/courses"])):this.toastr.error("Cannot get course details","Error"),this.isLoading=!1}})}formatDate(t){return t.split("T")[0]}hasSessionEnded(t){const o=new Date(t.date.split("T")[0]),i=t.endTime;return i.split(":")[1]?(o.setHours(Number(i.split(":")[0])),o.setMinutes(Number(i.split(":")[1]))):(o.setHours(Number(i)),o.setMinutes(Number("00"))),new Date>o}sessionStartingSoon(t){const o=new Date(t.date.split("T")[0]),i=t.endTime;i.split(":")[1]?(o.setHours(Number(i.split(":")[0])),o.setMinutes(Number(i.split(":")[1]))):(o.setHours(Number(i)),o.setMinutes(0));const r=new Date;return r<o&&r.toDateString()===o.toDateString()}openSessionCommentModal(t){this.dialogConfig.data={id:t._id,progressComment:t.progressComment||""},this.dialog.open(ee,this.dialogConfig)}CommentDisplay(t){t.viewComment=!0}CommentHide(t){t.viewComment=!1}viewStudents(){this.dialogConfig.data={courseID:this.course._id},this.dialog.open(ae,this.dialogConfig)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(m),e.Y36(p._W),e.Y36(u.F0),e.Y36(d.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-course-details"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],[1,"container-card"],[1,"person",2,"--data-color","#c3a668"],[1,"header"],[1,"attributes"],[2,"line-height","1.3"],[1,"custom-button","border","border-1",3,"click"],[1,"container"],[1,"row"],["class","col-md-4 my-2",4,"ngFor","ngForOf"],[1,"col-md-4","my-2"],[1,"session","position-relative","p-4","shadow",3,"ngClass"],["class","comment rounded shadow d-flex flex-column justify-content-between",4,"ngIf"],[1,"text-center","fs-3"],[1,"fw-bold"],[1,"time"],[1,"d-flex","justify-content-end"],["class","custom-button border border-1",3,"routerLink","queryParams",4,"ngIf"],["class","btn progress-btn border border-1",3,"click",4,"ngIf"],[1,"comment","rounded","shadow","d-flex","flex-column","justify-content-between"],[1,"mb-0"],[1,"btn","text-white",3,"click"],[1,"btn","progress-btn","border","border-1",3,"click"],[1,"custom-button","border","border-1",3,"routerLink","queryParams"]],template:function(t,o){1&t&&(e.YNc(0,ce,5,0,"ng-container",0),e.YNc(1,fe,29,6,"ng-container",0)),2&t&&(e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[l.mk,l.sg,l.O5,u.rH],styles:['.container-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));grid-gap:2em}.container[_ngcontent-%COMP%]{padding:3vh 1vh;margin:auto;max-width:1200px}.attributes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(10ch,1fr));grid-gap:1em}.attributes[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{grid-column-start:1}.attributes[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{grid-column-start:span 2}*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%]{font-size:16px;font-family:Roboto Condensed,Helvetica,Arial,sans-serif;color:#313233}.container-card[_ngcontent-%COMP%]{padding:3vh 1vh;margin:auto;max-width:1200px}.person[_ngcontent-%COMP%]{position:relative;background-color:#fff;background-image:url(quraanCard.d538f25dd82acf33.png);background-position:center;background-size:contain;padding:3rem 1.5rem;box-shadow:0 2px 25px -5px #0003;transition:.25s ease-in-out all;width:60%}.header[_ngcontent-%COMP%]{font-family:Passion One,Impact,condensed,sans-serif;font-size:2em;text-transform:uppercase;letter-spacing:.05em;line-height:1.1;margin:0 0 1.5rem;color:#c3a668}.person[_ngcontent-%COMP%]:after{content:"";position:absolute;top:3rem;left:0;display:block;width:10px;height:2.2em;border-radius:5px;background-color:var(--data-color);animation:.55s ease-in-out _ngcontent-%COMP%_skewThis forwards}.person[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 2px 25px -5px #00000059}.person[_ngcontent-%COMP%]:hover   .attributes[_ngcontent-%COMP%]{opacity:.9}.person[_ngcontent-%COMP%]:hover:after{transform:skew(-25deg);animation:.55s ease-in-out _ngcontent-%COMP%_skewThis backwards}.attributes[_ngcontent-%COMP%]{margin:0;opacity:.75;transition:.25s ease-in-out all}.attributes[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-family:Passion One,Roboto,sans-serif;font-size:1.1em;line-height:1rem;letter-spacing:.05em;text-transform:uppercase;color:var(--data-color)}.attributes[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin:3;font-family:Passion One,Roboto,sans-serif;font-size:1.6em;line-height:1rem;font-weight:700;letter-spacing:.05em}.attributes[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]:before, .attributes[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]:after{margin:0 .2ch;opacity:.5}.attributes[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]:before{content:open-quote;margin-left:-1ch}.attributes[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]:after{content:close-quote}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:right;align-items:flex-end;margin-top:1.5rem}.custom-button[_ngcontent-%COMP%]{display:inline-block;background-color:var(--data-color);color:#5b2d1e;padding:.75rem 1.5rem;border-radius:6px;border:none;font-size:1.2em;font-weight:700;text-decoration:none;text-align:center;transition:.25s ease-in-out all;float:right}.custom-button[_ngcontent-%COMP%]:hover{background-color:#8f7a4d}.mdc-data-table__table[_ngcontent-%COMP%]{min-width:80%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}@keyframes _ngcontent-%COMP%_skewThis{0%{transform:skew(0)}to{transform:skew(25deg)}}@keyframes _ngcontent-%COMP%_skewBack{0%{transform:skew(25deg)}to{transform:skew(-25deg)}}.session[_ngcontent-%COMP%]{background-color:#fff}.session[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{color:#c3a668}.bg-session[_ngcontent-%COMP%]{background-image:url(bg.dbe6f87152b00799.jpg)}.today-session[_ngcontent-%COMP%]{border:6px solid rgb(178,137,83)}.progress-btn[_ngcontent-%COMP%]{background-color:#5b2d1e;color:#e1e1e1;padding:.75rem 1.5rem}.comment[_ngcontent-%COMP%]{position:absolute;background-color:#5b2d1e;padding:.75rem 1.5rem;color:#fff;top:0;right:0;height:100%}']}),n})()},{path:"session/:id",component:(()=>{class n{constructor(t,o,i,r){this._activatedRoute=t,this._teacherService=o,this.toastr=i,this._Router=r,this.id="",this.isLoading=!0,this.sessionNum=0,this.id=this._activatedRoute.snapshot.params.id,this.getSessionDetails()}ngOnInit(){this._activatedRoute.queryParamMap.subscribe(t=>{const o=t.get("sessionNum");this.sessionNum=o})}getSessionDetails(){this._teacherService.getSessionDetails(this.id).subscribe({next:t=>{this.session=t,this.isLoading=!1},error:t=>{404===t.status?(this.toastr.error(`${t.error.error}`,"Error"),this._Router.navigate(["/teacher/courses"])):this.toastr.error("Cannot get session details","Error"),this.isLoading=!1}})}createMeeting(){new Date(this.session.date.split("T")[0])>new Date?this.toastr.error("Session not available","Error"):this._teacherService.createMeeting(this.id).subscribe({next:t=>{this.session.startUrl=t.startUrl,this.session.joinUrl=t.joinUrl,this.toastr.success("meeting link generated","Success")},error:t=>{console.log(t),this.toastr.error("Cannot generate meeting link","Error")}})}formatDate(t){const o=new Date(t);return new Intl.DateTimeFormat("en-GB").format(o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(m),e.Y36(p._W),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-session-details"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","vh-100"],["role","status",1,"spinner-border",2,"width","6rem","height","6rem"],[1,"visually-hidden"],[1,"container","py-5"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"course","p-5"],[1,"text-center","fw-bold","fs-2"],[1,"bg-light","shadow","p-4"],[1,"text-black"],[1,"col-md-4"],[1,"d-flex","flex-column","shadow-lg","p-5"],[1,"btn","meeting-btn",3,"click"],[1,"btn","meeting-btn"],["target","_blank",1,"text-decoration-none","text-white",3,"href"]],template:function(t,o){1&t&&(e.YNc(0,be,5,0,"ng-container",0),e.YNc(1,Me,34,9,"ng-container",0)),2&t&&(e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},dependencies:[l.O5],styles:["h1[_ngcontent-%COMP%]{color:#5b2d1e}.course[_ngcontent-%COMP%]{background-image:url(bg.dbe6f87152b00799.jpg)}.course[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#c3a668;text-shadow:#c3a668}.meeting-btn[_ngcontent-%COMP%]{color:#fff;background-color:#5b2d1e}"]}),n})()}];let Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(we),u.Bz]}),n})();var Te=c(3238);let Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,Ze,a.u5,O.Ps,d.Is,x.ot,_.lN,v.c,a.UX,M.FA,Te.XK,f.QW]}),n})()}}]);